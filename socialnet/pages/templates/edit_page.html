{% extends 'base_layout.html'%}

{% block content%}

{% load static from staticfiles %}
<!-- TODO get rid of staticfiles and script at bottom if i dont use it -->

{{ form.errors }}
<div class="page-wrapper">
  <form class='site-form' action='/user/edit-my-page/' method='post' enctype='multipart/form-data'>
    {% csrf_token %}
    <!-- TODO: add javazcript to make the text feilds autofill with user's old page info-->
    <div class="edit-page">
      <div class="page-title">
        <h2>Title:</h2>
      </div>
      <div class="page-title-enter">
        {{ form.title }}
      </div>
      <div class="page-description">
        <h4>About:</h4>
      </div>
      <div class="page-description-enter">
        {{ form.description }}
      </div>
      <div class="page-image">
        <div class="change-image">
          Change Image: {{ form.photo }}
        </div>
      </div>
      <div class="page-music" style="padding-top:40px; height:5px;">
        <h4 style="display:inline">Current Tune(s):</h4> (Paste Embed Code Below) {{ form.musicembed }}
      </div>
      <!-- TODO: add javazcript to make the picture show up-->
    </div>
    <div class="form-submit">
      <input type='submit' value='Save'>
    </div>
  </form>
</div>

{% if page %}
<script>
  //var page = {{page}}; WHY DOESNT THIS WORK?
  var title = "{{page.title}}";
alert(title);
</script>
<script src="{% static 'edit-page.js'%}"></script>

{% endif %}

{% endblock %}
